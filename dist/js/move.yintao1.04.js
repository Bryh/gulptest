function animate(a,b,c){function d(){for(var b in a.timerlist)clearInterval(a.timerlist[b])}function e(a,b){return a.currentStyle?isNaN(parseFloat(a.currentStyle[b]))?a.style[b]=0:a.currentStyle[b]:isNaN(parseFloat(getComputedStyle(a,null)[b]))?a.style[b]=0:getComputedStyle(a,null)[b]}function f(a){var b=0;for(var c in a)b++;return b}function g(){d(),a.isMoving=!1}if(!a.isMoving)for(var h in g(),a.isMoving=!0,(a.timerlist={},b))(function(d){a.timerlist[d]={speed:0},a.timerlist[d].timer=setInterval(function(){var h=0;h="opacity"==d?parseFloat(100*parseFloat(e(a,d))):parseFloat(e(a,d));var i=a.timerlist[d].speed;c&&c.buffer?(i+=(b[d]-h)/5,i*=.75):i=(b[d]-h)/5,.1>Math.abs(h-b[d])?(clearInterval(a.timerlist[d].timer),delete a.timerlist[d],0==f(a.timerlist)&&(g(),c&&c.callback?c.callback():"")):("opacity"==d?(a.style.opacity=(h+i)/100,a.style.filter="alpha(opacity="+parseFloat(h+i)+")"):a.style[d]=h+i+"px",a.timerlist[d].speed=i)},30)})(h)}