(function(){function a(a){for(var b=a.offsetLeft,c=a.offsetTop;a.offsetParent;)b+=a.offsetParent.offsetLeft,c+=a.offsetParent.offsetTop,a=a.offsetParent;return{left:b,top:c}}function b(a,b){return a.currentStyle?a.currentStyle[b]:getComputedStyle(a)[b]}function c(c,a){if(!a)return c;var b={};for(var d in c)b[d]=c[d];for(var d in a)b[d]=a[d];return b}var d=function(){return window.VBArray?function(a,b,c){a.attachEvent("on"+b,c)}:function(a,b,c,d){a.addEventListener(b,c,!!d)}}();window.draggable=function(f,e){if("absolute"==b(f,"position")||"fixed"==b(f,"position")){var g={x:!0,y:!0,limit:!0,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0,marginLeft:0,marginTop:0,callback:function(){}},h=c(g,e),i={x:a(f).left,y:a(f).top};d(f,"mousedown",function(b){function c(b){var c=Math.min,d=Math.max,b=b||event,j={pageX:b.clientX+document.body.scrollLeft||document.documentElement.scrollLeft,pageY:b.clientY+document.body.scrollTop||document.documentElement.scrollTop},k={minLeft:h.paddingLeft-h.marginLeft,maxLeft:f.offsetParent.offsetWidth-f.offsetWidth-h.paddingRight-h.marginLeft,minTop:h.paddingTop-h.marginTop,maxTop:f.offsetParent.offsetHeight-f.offsetHeight-h.paddingBottom-h.marginTop};h.limit?(h.x&&(f.style.left=c(k.maxLeft,d(k.minLeft,j.pageX-a(f.offsetParent).left-g.offsetX))+"px"),h.y&&(f.style.top=c(k.maxTop,d(k.minTop,j.pageY-a(f.offsetParent).top-g.offsetY))+"px")):(h.x&&(f.style.left=j.pageX-a(f.offsetParent).left-g.offsetX+"px"),h.y&&(f.style.top=j.pageY-a(f.offsetParent).top-g.offsetY+"px")),h.callback.call(f,k,{x:a(f).left-i.x,y:a(f).top-i.y})}var b=b||event,g={pageX:b.clientX+document.body.scrollLeft||document.documentElement.scrollLeft,pageY:b.clientY+document.body.scrollTop||document.documentElement.scrollTop};g.offsetX=g.pageX-a(f).left+h.marginLeft,g.offsetY=g.pageY-a(f).top+h.marginTop,d(document,"mousemove",c),d(document,"mouseup",function(){document.removeEventListener("mousemove",c)})})}}})();